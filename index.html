<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
  <meta charset="utf-8">

<style type="text/css">

.head { 
	width: 100%; 
	padding: 5px;
	float: left;
	position: relative; 
	}

.inic { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 5%; 
	}

.drug_inic { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 10%; 
	}

.dr1 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 0%; 
	}

.dop_inf { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 10%; 
	}

.m10 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: -10%; 
	}

.p10 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 10%; 
	}

.p5 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 5%; 
	}

.m5 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: -5%; 
	}

.p0 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 0%; 
	}

.p00 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	left: 10%; 
	}

.t10 { 
	width: 90%; 
	padding: 5px;
	float: left;
	position: relative; 
	top: 10px 
	}



input[type=text] {
	outline:none;
	border: none ;
	border-bottom: 1px solid ;
	width: 500px;
}

td {
	padding: 5px  20px;
}

A {
	font-size: 80%;
    text-decoration: none; /* Убирает подчеркивание для ссылок */
    color: red;
   } 

  </style> 

  </head>
  <body>

	<div class = block_1 id = block_1>
	</div>


<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" >


	ftc('block_1.php', 'block_1');
	ftc('add_file.php?num=0', 'add_file');

function ftc(fname, id)
{
        console.log('fname');
        console.log(fname);
	fetch(fname)
    .then(function (response) {
        switch (response.status) {
            // status "OK"
            case 200:
                return response.text();
            // status "Not Found"
            case 404:
                throw response;
        }
    })
    .then(function (template) {
        console.log(template);
	document.getElementById(id).innerHTML=template; 
    })
    .catch(function (response) {
        // "Not Found"
        console.log(response.statusText);
    });
}

function f_obe_lin()
	{
		ftc('rod_head.html' , 'rod_head');

		var i;

		ftc('blocks_obe.html' , 'blocks_obe');
		ftc('null.html' , 'blocks_mat');
		ftc('null.html' , 'blocks_otc');

		for(i=2; i<=7; i++)
		{
			var block = 'block_obe_' + i;
			console.log(block);
			ftc(block+'.html', block);
		}

		f_add_all();
	}

function sleep(n){
	var request = new XMLHttpRequest();
	request.open('GET', 'sleep.php?n=' + n, false);  // `false` makes the request synchronous
	request.send(null);
}

function f_add_all()
	{
		sleep(1);

		ftc('osn_block.php?type=mama&dp=мамой', 'osn_block_mama');
		ftc('dop_block.php?type=mama&byl=Была', 'dop_block_mama');
		ftc('dop_inf_0.php?type=mama&byl=Была', 'dop_inf_mama');

		ftc('add_rab.php?type=mama&nrab=0', 'add_rab_mama');
		ftc('add_uch.php?type=mama&nuch=0', 'add_uch_mama');
		ftc('add_adr.php?type=mama&nadr=0', 'add_adr_mama');
		ftc('add_bra.php?type=mama&nbra=0', 'add_bra_mama');

		ftc('add_brak.php?type=papa&num=0', 'add_brak_papa');
		ftc('add_rab.php?type=papa&nrab=0', 'add_rab_papa');
		ftc('add_uch.php?type=papa&nuch=0', 'add_uch_papa');
		ftc('add_adr.php?type=papa&nadr=0', 'add_adr_papa');
		ftc('add_bra.php?type=papa&nbra=0', 'add_bra_papa');

		ftc('add_potomok.php?type=bab_m&word=дочь', 'add_potomok_bab_m');
		ftc('add_potomok.php?type=bab_p&word=дочь', 'add_potomok_bab_p');
		ftc('add_rab.php?type=bab_m&nrab=0', 'add_rab_bab_m');
		ftc('add_uch.php?type=bab_m&nuch=0', 'add_uch_bab_m');
		ftc('add_adr.php?type=bab_m&nadr=0', 'add_adr_bab_m');
		ftc('add_bra.php?type=bab_m&nbra=0', 'add_bra_bab_m');

		ftc('add_potomok.php?type=ded_m&word=сын', 'add_potomok_ded_m');
		ftc('add_potomok.php?type=ded_p&word=сын', 'add_potomok_ded_p');
		ftc('add_brak.php?type=ded_m&num=0', 'add_brak_ded_m');
		ftc('add_rab.php?type=ded_m&nrab=0', 'add_rab_ded_m');
		ftc('add_uch.php?type=ded_m&nuch=0', 'add_uch_ded_m');
		ftc('add_adr.php?type=ded_m&nadr=0', 'add_adr_ded_m');
		ftc('add_bra.php?type=ded_m&nbra=0', 'add_bra_ded_m');

		ftc('add_rab.php?type=bab_p&nrab=0', 'add_rab_bab_p');
		ftc('add_uch.php?type=bab_p&nuch=0', 'add_uch_bab_p');
		ftc('add_adr.php?type=bab_p&nadr=0', 'add_adr_bab_p');
		ftc('add_bra.php?type=bab_p&nbra=0', 'add_bra_bab_p');

		ftc('add_brak.php?type=ded_p&num=0', 'add_brak_ded_p');
		ftc('add_rab.php?type=ded_p&nrab=0', 'add_rab_ded_p');
		ftc('add_uch.php?type=ded_p&nuch=0', 'add_uch_ded_p');
		ftc('add_adr.php?type=ded_p&nadr=0', 'add_adr_ded_p');
		ftc('add_bra.php?type=ded_p&nbra=0', 'add_bra_ded_p');
}


function f_add_pra()
	{
		sleep(1);
		ftc('add_brak_pra.php?type=mama_bab_m&num=0', 'add_brak_mama_bab_m');
		ftc('add_rab.php?type=mama_bab_m&nrab=0', 'add_rab_mama_bab_m');
		ftc('add_uch.php?type=mama_bab_m&nuch=0', 'add_uch_mama_bab_m');
		ftc('add_adr.php?type=mama_bab_m&nadr=0', 'add_adr_mama_bab_m');
		ftc('add_bra.php?type=mama_bab_m&nbra=0', 'add_bra_mama_bab_m');

		ftc('add_brak_pra.php?type=mama_ded_m&num=0', 'add_brak_mama_ded_m');
		ftc('add_rab.php?type=mama_ded_m&nrab=0', 'add_rab_mama_ded_m');
		ftc('add_uch.php?type=mama_ded_m&nuch=0', 'add_uch_mama_ded_m');
		ftc('add_adr.php?type=mama_ded_m&nadr=0', 'add_adr_mama_ded_m');
		ftc('add_bra.php?type=mama_ded_m&nbra=0', 'add_bra_mama_ded_m');

		ftc('add_brak_pra.php?type=mama_bab_p&num=0', 'add_brak_mama_bab_p');
		ftc('add_rab.php?type=mama_bab_p&nrab=0', 'add_rab_mama_bab_p');
		ftc('add_uch.php?type=mama_bab_p&nuch=0', 'add_uch_mama_bab_p');
		ftc('add_adr.php?type=mama_bab_p&nadr=0', 'add_adr_mama_bab_p');
		ftc('add_bra.php?type=mama_bab_p&nbra=0', 'add_bra_mama_bab_p');

		ftc('add_brak_pra.php?type=mama_ded_p&num=0', 'add_brak_mama_ded_p');
		ftc('add_rab.php?type=mama_ded_p&nrab=0', 'add_rab_mama_ded_p');
		ftc('add_uch.php?type=mama_ded_p&nuch=0', 'add_uch_mama_ded_p');
		ftc('add_adr.php?type=mama_ded_p&nadr=0', 'add_adr_mama_ded_p');
		ftc('add_bra.php?type=mama_ded_p&nbra=0', 'add_bra_mama_ded_p');
	}

function f_otc_lin()
	{
		ftc('rod_head.html' , 'rod_head');
		var arr = [3,2,6,7];
		ftc('blocks_otc.html' , 'blocks_otc');
		ftc('null.html' , 'blocks_mat');
		ftc('null.html' , 'blocks_obe');

		arr.forEach(i => 
			{
			console.log(i);
			var block = 'block_otc_' + i;
			console.log(block);
			ftc(block+'.html', block);
			}
		);

		sleep(1);
		f_add_all();
	}


function f_mat_lin()
	{
		ftc('rod_head.html' , 'rod_head');
		var arr = [2,3,4,5]
		ftc('blocks_mat.html' , 'blocks_mat');
		ftc('null.html' , 'blocks_otc');
		ftc('null.html' , 'blocks_obe');

		arr.forEach(i => 
			{
			console.log(i);
			var block = 'block_mat_' + i;
			console.log(block);
			ftc(block+'.html', block);
			}
		);

		sleep(1);
		f_add_all();
	}


	function f_korni()
	{
		var html = '<b>Укажите, по какой линии еврейские корни:</b><p> </div> <table> <tr> <td> по материнской линии <input id="id_mat_lin" type=checkbox name = mat_lin  onchange = "f_rod(\'mat_lin\');">&nbsp <td> по отцовской линии <input id="id_otc_lin" type=checkbox name = otc_lin  onchange = "f_rod(\'otc_lin\');">&nbsp<td> по обеим линиям &nbsp<input id="id_obe_lin" type=checkbox name = obe_lin  onchange = "f_obe();"> </table> <div id = tmp> ';

		//&nbsp<td> по обеим линиям &nbsp<input id="id_obe_lin" type=checkbox name = obe_lin  onchange = "f_rod(\'obe_lin\');"> 


		document.getElementById('korni').innerHTML=html; 
	}

	function no_f_korni()
	{
		var html = '';
		document.getElementById('korni').innerHTML=html; 
	}


	function s()
	{
		var html = ' <p><b>Информация о супруге</b><p> Инициалы&nbsp<input type=text name = info[suprug][inicialy]><p> Дата рождения&nbsp<input type=text name = info[suprug][data_r]><p> Место рождения&nbsp<input type=text name = info[suprug][mesto_r]><p> Дата брака&nbsp<input type=text name = info[suprug][data_b]> <p> Место брака&nbsp<input type=text name = info[suprug][mesto_b]><p> ';
		document.getElementById('suprug').innerHTML=html; 
	}

	function no_s()
	{
		var html = '';
		document.getElementById('suprug').innerHTML=html; 
	}

	function e()
	{
		var html = 'Откуда&nbsp<input type=text name = info[otkuda]>&nbsp Куда<input type=text name = info[kuda]>';
		document.getElementById('evac').innerHTML=html; 
	}

	function no_e()
	{
		var html = '';
		document.getElementById('evac').innerHTML=html; 
	}

	function f()
	{
		var html = 'Где&nbsp<input type=text name = info[f_gde]>&nbsp В какой части<input type=text name = info[f_chast]>';
		document.getElementById('front').innerHTML=html; 
	}

	function no_f()
	{
		var html = '';
		document.getElementById('front').innerHTML=html; 
	}

	function f_rod(rod)
	{
	var chbox;
	chbox=document.getElementById('id_' + rod);
		if (chbox.checked) {
			ftc( rod + '.html',  rod );
		}
		else {
			var html = '';
			document.getElementById( rod ).innerHTML=html; 
		}

	}

	function f_obe()
	{
	var chbox;
	chbox=document.getElementById('id_obe_lin');
		if (chbox.checked) {
			document.getElementById("id_mat_lin").checked = true;
			document.getElementById("id_otc_lin").checked = true;
			ftc('mat_lin.html', 'mat_lin' );
			ftc('otc_lin.html', 'otc_lin' );
		}
		else {
			var html = '';
			document.getElementById( 'mat_lin' ).innerHTML=html; 
			document.getElementById( 'otc_lin' ).innerHTML=html; 
			document.getElementById("id_mat_lin").checked = false;
			document.getElementById("id_otc_lin").checked = false;
		}

	}




	function no_m()
	{
		var html = '';
		document.getElementById('mama').innerHTML=html; 
	}

	function no_l(rod)
	{
		var html = ' <table><tr> <td> Дата смерти <td> <input type=text name = rod['+rod+'][data_s][value]> <td> <input type=checkbox name = rod['+rod+'][data_s][netochno]> <tr> <td> Место смерти&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<td> <input type=text name = rod['+rod+'][mesto_s][value]> <td> <input type=checkbox name = rod['+rod+'][mesto_s][netochno]> </table>';
		document.getElementById('die_'+rod).innerHTML=html; 

		var html_l = '';
		document.getElementById('jiv_'+rod).innerHTML=html_l; 
}

	function l(rod)
	{
		var html_d = '';
		var html_l = ' <table><tr> <td> Есть ли связь с родственником <td> <input type=text name = rod['+rod+'][sviaz][value]> <td> <input type=checkbox name = rod['+rod+'][sviaz][netochno]> </table>';
		console.log(html_l);
		document.getElementById('die_'+rod).innerHTML=html_d; 
		document.getElementById('jiv_'+rod).innerHTML=html_l; 
	}

	function e_s(rod)
	{
		var html = 'Откуда&nbsp<input type=text name = rod['+rod+'][suprug][evac][otkuda]>&nbsp Куда<input type=text name = rod['+rod+'][suprug][evac][kuda]>';
		document.getElementById('evac_s_'+rod).innerHTML=html; 
	}

	function no_e_s(rod)
	{
		var html = '';
		document.getElementById('evac_s_'+rod).innerHTML=html; 
	}

	function f_s(rod)
	{
		var html = 'Где&nbsp<input type=text name = rod['+rod+'][suprug][front][gde]>&nbsp В какой части<input type=text name = rod['+rod+'][suprug][front][chast]>';

		document.getElementById('front_s_'+rod).innerHTML=html; 
	}

	function no_f_s(rod)
	{
		var html = '';
		document.getElementById('front_s_'+rod).innerHTML=html; 
	}

	function add_file()
{
		i2 = fn+1;
		var s = 'add_files'+fn;
		var id = 'add_files'+i2;
	var html = 'Выберите файл для отправки <p> <input type="file" name="files['+fn+']"><p> </div> <div class = '+ id + ' id = ' + id + '>';
		fn++;
		document.getElementById(s).innerHTML=html; 
		console.log(s);
		console.log(id);
		console.log(html);
}

	function add_pred_brak(rod)
	{
		pred_brak = arr.get(rod).pred_brak;
		pred_brak2 = pred_brak+1;
		var s = 'add_pred_brak_'+rod+pred_brak;
		var id = 'add_pred_brak_'+rod+pred_brak2;
var html = ' <p> <b> Предыщущий брак </b> <p> дата заключения брака <input type=text name = rod[mama][pred_brak]['+pred_brak+'][zakl]> <p> дата расторжения брака <input type=text name = rod[mama][pred_brak]['+pred_brak+'][rast]> <p> </div> <div class = '+ id + ' id = ' + id + '> '; 
		console.log(pred_brak);
		console.log(s);
		console.log(id);
		console.log(html);
		console.log(arr.get(rod).pred_brak);
		document.getElementById(s).innerHTML=html; 
		arr.get(rod).pred_brak++;

	}

	function add_uch(rod)
	{
		i = arr.get(rod).i;
		i2 = i+1;
		var s = 'add_uch_'+rod+i;
		var id = 'add_uch_'+rod+i2;
		var html = ' <p> <table border = 1> <tr> <td> Период учебы     <td> Название учебного заведения <td> Не точно <tr> <td> <input type=text name = rod['+rod+'][ucheba]['+i2+'][period]> <td> <textarea name = rod['+rod+'][ucheba]['+i2+'][mesto]></textarea> <td> <input type=checkbox name = rod['+rod+'][ucheba]['+i2+'][netochno]> </table> <p>  </div> <div class = '+ id + ' id = ' + id + '>';
		console.log(i);
		console.log(s);
		console.log(id);
		console.log(html);
		console.log(arr.get(rod).i);
		document.getElementById(s).innerHTML=html; 
		arr.get(rod).i++;

	}

	function add_rab(rod)
	{
		j = arr.get(rod).j;
		var j2 = j+1;
		var s = 'add_rab_'+rod+j;
		var id = 'add_rab_'+rod+j2;
		var html = ' <p> <table border = 1> <tr> <td> Период работы <td> Должность <td> Название предприятия <br>(учреждения, организации) <td> Не точно <tr> <td> <input type=text name = rod['+rod+'][rabota]['+j2+'][period]> <td> <textarea name = rod['+rod+'][rabota]['+j2+'][dolzhnost]></textarea> <td> <textarea name = rod['+rod+'][rabota]['+j2+'][mesto]></textarea> <td> <input type=checkbox name = rod['+rod+'][rabota]['+j2+'][netochno]> </table> <p></div>  <div class = '+id+' id = '+id+' >';
		console.log(j);
		console.log(s);
		console.log(id);
		document.getElementById(s).innerHTML=html; 
		arr.get(rod).j++;

	}

	function add_adr(rod)
	{
		k = arr.get(rod).k;
		var k2 = k+1;
		var s = 'add_adr_'+rod+k;
		var id = 'add_adr_'+rod+k2;
		var html = ' <p> <table border = 1> <tr> <td> Город <td> район <td> улица <td> дом <td> корпус <td> квартира <td> период <td> Не точно <tr> <td> <input type=text name = rod['+rod+'][adres]['+k2+'][gorod]> <td> <input type=text  name = rod['+rod+'][adres]['+k2+'][raion]> <td> <input type=text name = rod['+rod+'][adres]['+k2+'][ulica]> <td> <input type=text name = rod['+rod+'][adres]['+k2+'][dom]> <td> <input type=text name = rod['+rod+'][adres]['+k2+'][korpus]> <td> <input type=text name = rod['+rod+'][adres]['+k2+'][kv]> <td> <input type=text name = rod['+rod+'][adres]['+k2+'][period]> <td> <input type=checkbox name = rod['+rod+'][adres]['+k2+'][netochno]> </table> <p> </div> <div class = '+id+' id = '+id+' > ';
		console.log(k);
		console.log(s);
		console.log(id);
		document.getElementById(s).innerHTML=html; 
		arr.get(rod).k++;
	}

	function add_bra(rod)
	{
		l = arr.get(rod).l;
		var l2 = l+1;
		var s = 'add_bra_'+rod+l;
		var id = 'add_bra_'+rod+l2;
		var html = ' <p> <table border = 1> <tr> <td> ФИО <td> жив <td> дата рождения <td> место рождения <tr> <td> <input type=text name = rod['+rod+'][brat]['+l2+'][fio]> <td> <input type=radio name = rod['+rod+'][brat]['+l2+'][live] value=1  > &nbsp да  &nbsp <input type=radio name = rod['+rod+'][brat]['+l2+'][live] value=0 > &nbsp нет <td> <input type=text name = rod['+rod+'][brat]['+l2+'][data_r]> <td> <input type=text name = rod['+rod+'][brat]['+l2+'][mesto_r]> </table> <p> </div> <div class = '+id+' id = '+id+' > ';
		document.getElementById(s).innerHTML=html; 
		arr.get(rod).l++;
	}
</script>
